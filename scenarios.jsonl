{"name": "acp-new-session", "given": "fresh channel with no session", "when": "first message sent", "then": "ACP session created and logged to acp-messages.jsonl", "validates": "ACP Initialize + NewSession flow"}
{"name": "acp-prompt-response", "given": "existing ACP session", "when": "prompt sent via webhook", "then": "response received in Matrix", "validates": "ACP PromptRequest flow"}
{"name": "acp-tool-events", "given": "prompt requiring tool use", "when": "agent uses Read tool", "then": "ToolUse event emitted and logged", "validates": "SessionUpdate streaming with ToolCall"}
{"name": "acp-session-resume", "given": "existing session ID in DB", "when": "gorp-acp restarts and prompt sent", "then": "LoadSession attempted, fallback to new session if fails (see docs/SESSION-RESUME-LIMITATION.md)", "validates": "graceful degradation when ACP session not found", "status": "known-limitation"}
